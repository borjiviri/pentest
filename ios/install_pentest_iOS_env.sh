#!/bin/sh
# devnull@libcrack.so
# lun jun 30 18:03:10 CEST 2014
# Install pentesting tools on an ios device

# dpkg -l | grep -q openssh \
#     || { echo "[!] INSTALL OpenSSH"; exit 1; }
# dpkg -l | grep -q bigbosshackertools \
#     || { echo "[!] INSTALL Big Boss Recommended Tools"; exit 1; }

apps_needed="openssh bigbosshackertools"

for app in $apps_needed; do 
    dpkg -l | grep -q $app || { 
        echo "[!] INSTALL $app before start"
        exit 1
    }
done

# --- repositories ----------------------------------------------------------

repodir="/etc/apt/sources.list.d"

echo "[*] Adding repos $repo"

# snoopit
echo "deb http://repo.nesolabs.de/ ./" > $repodir/neso.list
# dumpdecrypted
echo "deb http://DJHartley.myrepospace.com ./" > $repodir/djhartley.list
# perl
echo "deb http://coredev.nl/cydia iphone main" > $repodir/coredev.nl.list
# theos
echo "deb http://nix.howett.net/theos ./" > $repodir/howett.net.list 

# --- install apps ----------------------------------------------------------

apt-get update

# development
apt-get install org.coolstar.iostoolchain
apt-get install org.coolstar.cctools
apt-get install com.bigboss.20toolchain
#apt-get install net.howett.theos
apt-get install --yes net.howett.theos

# programming languages
apt-get install python
apt-get install file
apt-get install perl 

# system utils
apt-get install com.slugrail.ipainstaller
apt-get install com.myrepospace.DJHartley.dumpdecrypted
apt-get install mobileterminal

# command line utils
apt-get install bash
apt-get install adv-cmds
apt-get install com.ericasadun.utilities

# networking
apt-get install tcpdump

# keychain_dumper
wget --no-check-certificate \
            https://github.com/ptoomey3/Keychain-Dumper/raw/master/keychain_dumper \
            -O /usr/bin/keychain_dumper \
            && chmod +x /usr/bin/keychain_dumper

# dumpdecrypted
# https://github.com/iMokhles/DumpDecrypted7
# git clone https://github.com/stefanesser/dumpdecrypted.git

# class-dump-z
wget --no-check-certificate \
    http://networkpx.googlecode.com/files/class-dump-z_0.2-0.tar.gz

